<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">
      
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style type="text/css">
        .ui-widget,
        .ui-widget .ui-widget {
               font-size: 12px !important;
         }
    </style>



    <p:dataTable id="usersTable" var="user" value="#{users.usersList}" emptyMessage="No records found with given criteria" filteredValue="#{users.filteredUser}"
            paginator="true" rows="50" paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" >

         <f:facet name="header">
            <p:outputPanel>
                <h:outputText value="System Users:" />
                <p:separator/>
                <div align="right">
                        <p:commandButton id="selectButton9" value="New User" oncomplete="PF('dlg6').show();"/>
                </div>
            </p:outputPanel>
        </f:facet>
        <p:column style="width:5%">  
                 <h:outputText styleClass="ui-icon ui-icon-person" />  
        </p:column> 
        <p:column style="width:20%" sortBy="#{user.username}" headerText="Username" footerText="Username">
            <h:outputText value="#{user.username}" />
        </p:column>

        <p:column style="width:20%" sortBy="#{user.marketer}" headerText="Role" footerText="Marketer">
            <h:outputText value="#{user.marketer}" />
        </p:column>

        <p:column style="width:20%" sortBy="#{user.emailname}" headerText="Email Address" footerText="Email Address">
            <h:outputText value="#{user.emailname}" />
        </p:column>

        <p:column style="width:20%" sortBy="#{user.phonenum}" headerText="Phone Number" footerText="Phone Number" >
            <h:outputText value="#{user.phonenum}" />
        </p:column>
        <p:column style="width:15%" sortBy="#{user.isActive}" headerText="Active" footerText="Active">
                <h:outputText value="#{user.isActive}"/>
        </p:column>
    </p:dataTable>      
    
    <p:dialog header="New System User" widgetVar="dlg6" dynamic="true" showEffect="bounce" hideEffect="clip" resizable="false"> <!-- width="300" height="150">  -->
            <p:graphicImage width="32" height="32" value="/images/fuel-tanker.png" alt="Image Description for" title="Blue Technologies"/> 
            <p:separator/>
            <h:form id="newuser">
                <h:panelGrid id="displayuser" columns="2" cellpadding="5">                  
                        <h:outputText value="Username:" />
                        <p:inputText id="username" size="45" value="#{newusers.username}" />
                        <h:outputText value="Password:" />
                        <h:inputSecret id="password" size="45" value="#{newusers.password}" />
                        <h:outputText value="Role:" />
                        <p:selectOneMenu id="roleid" value="#{newusers.marketer}">
                                <f:selectItems id="roles" value="#{newusers.marketers}"/>
                        </p:selectOneMenu>
                        <h:outputText value="Email:" />
                        <h:inputText id="emailname" size="20" value="#{newusers.emailname}" />
                        <h:outputText value="Activate:" />
                        <p:selectBooleanCheckbox id="activate" value="#{newusers.active}" />
                        <h:outputText value="Phone Number:" />
                        <p:inputText id="phonenum" size="45" value="#{newusers.phonenum}" />
                        <h:outputText value="Postal Address:" />
                        <p:inputText id="postalladdress" size="45" value="#{newusers.address}" />
                        <h:outputText value="Details:" />
                        <p:inputTextarea id="details" value="#{newusers.details}" rows="4" cols="50"/>
                        <f:facet name="footer">  
                            <p:separator/>
                            <div align="right">
                                    <p:commandButton  process="newuser" id="loginButton" icon="ui-icon-disk" value="Save" actionListener="#{newusers.updateData}" update=":form1:usersTable" oncomplete="PF('dlg6').hide();"/>
                                    <p:commandButton value="Close" icon="ui-icon-close" oncomplete="PF('dlg6').hide();"/>
                            </div>
                        </f:facet>
                </h:panelGrid>
            </h:form>
    </p:dialog>  

                    

</html>